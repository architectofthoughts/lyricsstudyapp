# AI 일본어 가사 학습 도우미 📚🎵

Gemini API를 활용한 일본어 가사 학습 웹 애플리케이션입니다. 좋아하는 일본어 노래 가사를 입력하면 AI가 자동으로 독음, 번역, 문법 해설, 주요 단어 설명을 제공하고, 학습 퀴즈까지 생성해줍니다.

## 🔑 Gemini API 키 기반 실행

- Google AI Studio에서 발급받은 개인 Gemini API 키만 있으면 누구나 바로 사용 가능
- 앱 상단 입력란에 키를 직접 넣고, 필요하면 "이 브라우저에 저장" 체크로 로컬 보관
- 계정 승인 절차 없이도 실행되며, 키는 사용자 브라우저(LocalStorage)에만 저장됨

## 📋 주요 기능

### 🔍 자동 가사 검색 🆕 v1.2.0
- **스마트 노래 추론**: Gemini AI가 대략적인 입력을 정확한 일본어 제목으로 변환
- **이중 API 시스템**: LRCLIB (주요) + lyrics.ovh (대안) 300만+ 가사 데이터베이스
- **실시간 진행 표시**: 검색 과정을 단계별로 확인 가능
- **사용자 확인 단계**: AI 추론 결과 검토 후 최종 승인

### 🎯 나만의 가사 분석
- **Gemini API 연동**: Google의 최신 AI 모델을 활용한 정확한 분석
- **자동 독음 생성**: 일본어 가사의 한글 독음 자동 생성
- **정확한 번역**: 문맥을 고려한 자연스러운 한국어 번역
- **HTML 저장**: 분석 결과를 독립적인 HTML 파일로 저장 가능

### 📖 가사 & 해석
- **줄별 학습**: 각 가사 줄을 클릭하여 독음과 해석 토글
- **클립보드 복사**: 가사, 독음, 해석을 한 번에 복사
- **직관적 UI**: 깔끔한 카드 형태의 인터페이스

### 📚 상세 해설
- **전문 일본어 교사 관점**: AI가 친근한 일본어 선생님 역할로 문법 해설
- **문법 포인트 설명**: 助詞, 活用, 관용구 등 상세 문법 분석
- **어휘 뉘앙스**: 단어 선택의 이유와 감정적 의미 설명

### 🔤 주요 단어
- **핵심 어휘 추출**: 가사에서 중요한 일본어 단어들을 자동 선별
- **상세 설명**: 어원, 활용, 비슷한 표현 등 종합적 설명
- **학습 최적화**: 일본어 학습에 도움되는 실용적 정보 제공

### 🎮 가사 퀴즈
- **3가지 퀴즈 타입**: 독음, 빈칸 채우기, 번역 퀴즈
- **랜덤 생성**: 학습한 내용에서 무작위로 문제 출제
- **즉시 피드백**: 정답/오답 확인 및 해설 제공

## 🚀 사용 방법

### 1️⃣ 앱 접근

**🌐 온라인 사용 (권장):**
- GitHub Pages: `https://architectofthoughts.github.io/lyricsstudyapp/`
- 최신 버전이 즉시 배포되어 항상 동일한 환경 보장
- API 키 입력 후 노래 검색부터 저장 기능까지 모두 이용 가능

**💻 로컬 사용:**
- `LyricsStudy.html` 파일을 브라우저에서 직접 열어 실행
- Gemini API 키 입력이 필수이며, 네트워크 연결이 있어야 AI 분석/가사 검색 가능
- 로컬 브라우저 저장소가 별도로 사용되므로 API 키 저장 옵션을 다시 설정해야 함

### 2️⃣ 초기 설정

1. **Gemini API 키 발급**
   - [Google AI Studio](https://makersuite.google.com/app/apikey) → API Keys → Create API Key
   - 무료 요금제만으로도 테스트와 개인 학습 용도로 충분한 호출량 제공
2. **앱에 API 키 입력**
   - 상단 `Gemini API 키 입력` 영역에서 키를 붙여넣고 필요 시 "이 브라우저에 API 키 저장" 옵션 활성화
   - 개인 PC라면 "이 브라우저에 API 키 저장" 체크로 LocalStorage에 암호화 없이 저장 가능
3. **분석할 가사 준비**
   - 검색 기능으로 가사를 불러오거나, 직접 입력 탭에 학습하고 싶은 가사를 붙여넣기

**가사 입력 방법 선택 🆕 v1.2.0**

**🔍 노래 검색으로 가져오기 (추천)**
- 노래 제목이나 아티스트 입력 (예: "레몬", "Lemon 米津玄師", "우주를 달린다")
- AI가 정확한 일본어 제목과 아티스트 추론
- LRCLIB 데이터베이스에서 자동 가사 검색
- 검색 결과 확인 후 "이 가사 사용하기" 선택

**✏️ 직접 입력하기**  
- 학습하고 싶은 일본어 가사를 텍스트 영역에 붙여넣기
- 여러 줄의 가사 입력 가능

### 3️⃣ 가사 분석
1. **'분석하기'** 버튼 클릭
2. AI가 가사를 분석하는 동안 대기 (보통 10-30초)
3. 분석 완료 후 자동으로 **'가사 & 해석'** 탭으로 이동

### 4️⃣ 학습 활용
1. **가사 & 해석 탭**
   - 각 카드를 클릭하여 독음과 해석 확인
   - 우측 상단 '복사' 버튼으로 내용 클립보드 복사

2. **상세 해설 탭**
   - AI 선생님의 친근한 문법 설명 읽기
   - 일본어 문법 포인트와 어휘 뉘앙스 학습

3. **주요 단어 탭**
   - 핵심 어휘들의 의미와 활용법 확인
   - 단어의 어원과 관련 표현 학습

4. **가사 퀴즈 탭**
   - '새로운 퀴즈 생성' 버튼으로 문제 풀이
   - 다양한 형태의 퀴즈로 학습 효과 확인

### 5️⃣ 데이터 관리
- **HTML로 저장하기**: 분석 결과를 독립적인 HTML 파일로 저장
- **저장된 데이터 지우기**: 브라우저에 저장된 분석 데이터 삭제
- **자동 저장**: 분석 결과는 브라우저에 자동으로 저장되어 재방문 시 유지

## 💡 사용 팁

### ✅ 효과적인 학습법
- **반복 학습**: 같은 가사를 여러 번 분석하고 퀴즈 풀이
- **단계별 접근**: 가사 → 해설 → 단어 → 퀴즈 순서로 학습
- **메모 활용**: 복사 기능을 활용해 개인 노트 작성
- **HTML 저장**: 중요한 분석 결과는 HTML 파일로 저장하여 오프라인 학습

### ⚡ 최적 사용 환경
- **브라우저**: Chrome, Firefox, Safari 등 최신 브라우저 권장
- **화면**: 태블릿 이상의 화면 크기에서 최적화 (모바일도 완벽 지원)
- **인터넷**: 안정적인 인터넷 연결 필요 (API 호출용)

### 🆕 v1.2.0 업데이트 혁신 기능
- **🔍 자동 가사 검색**: 노래 제목만 입력하면 AI가 추론하고 자동으로 가사 검색
- **🎯 스마트 AI 추론**: Gemini 2.5 Flash로 대략적인 검색어를 정확한 일본어 곡 정보로 변환
- **📊 실시간 진행 표시**: 검색 과정을 단계별로 시각화하여 사용자 경험 향상
- **🔄 이중 API 시스템**: LRCLIB 300만+ DB를 주요 소스로, lyrics.ovh를 대안으로 사용
- **✅ 사용자 확인 단계**: AI 추론 결과와 가사 미리보기 후 최종 승인으로 정확성 보장

### 🔄 v1.1.0 이전 개선사항
- **UI 레이아웃 개선**: 텍스트 입력창 크기 문제 해결로 모든 화면에서 완벽한 반응형 디자인
- **한글 지원 강화**: Google 로그인 시 한글 사용자명 인코딩 문제 완전 해결
- **HTML 저장 기능 개선**: 저장된 파일에 로그인 상태가 포함되지 않도록 수정하여 깔끔한 독립 파일 생성
- **버전 관리 시스템**: 헤더에 현재 버전 정보 표시로 업데이트 상태 확인 가능

## 🔧 기술 사양

- **프론트엔드**: HTML5, CSS3, Vanilla JavaScript
- **스타일링**: Tailwind CSS
- **AI API**: Google Gemini 2.5 Flash / Gemini 3.0 Pro Preview
- **가사 검색**: LRCLIB API (주요), lyrics.ovh API (대안) 🆕
- **인증**: 사용자 보유 Gemini API 키 입력
- **저장소**: 브라우저 LocalStorage
- **호환성**: 모던 브라우저 전체 지원

## ⚙️ 개발자 설정

### 1. GitHub Pages 배포
`file://` 프로토콜에서도 실행할 수 있지만, HTTPS 환경에서 동작시키면 가사 검색·저장 기능이 가장 안정적입니다.

**배포 방법:**
1. GitHub Repository 생성
2. 모든 파일 업로드
3. Settings > Pages에서 배포 활성화
4. `https://architectofthoughts.github.io/lyricsstudyapp/` URL 생성

상세한 배포 가이드: `DEPLOYMENT.md` 참조

### 2. Gemini API 키 관리
- [Google AI Studio](https://makersuite.google.com/app/apikey)에서 개인 API 키 생성
- 앱의 "이 브라우저에 API 키 저장" 옵션을 사용하면 LocalStorage에 평문으로 저장되므로 공용 PC에서는 해제 권장
- 키를 교체하려면 입력란 내용을 지우고 새 키를 입력한 뒤 저장 옵션을 다시 체크

## 📄 라이선스 및 주의사항

- **개인 학습 목적**: 저작권이 있는 가사는 개인 학습 목적으로만 사용
- **API 사용량**: Gemini API의 무료 한도 확인 후 사용
- **데이터 보안**: API 키는 브라우저에만 저장되며 외부 전송되지 않음

## 🆘 문제 해결

### 자주 발생하는 문제

**API 키 관련**
1. **"API key not valid"**: Google AI Studio에서 키 상태 확인 및 재발급
2. **"PERMISSION_DENIED"**: 프로젝트에 Generative Language API 사용 설정되어 있는지 확인
3. **일시적으로 호출이 막힘**: Free tier 할당량 초과 여부 확인 후 잠시 대기
4. **저장한 키가 사라짐**: 브라우저 쿠키/LocalStorage 초기화 여부 확인

**UI/UX 관련**
1. **텍스트 입력창 크기 문제**: v1.1.0에서 반응형 레이아웃 문제 해결 완료
2. **모바일 호환성**: 모든 화면 크기에서 최적화된 사용 경험
3. **버전 확인**: 헤더 좌상단에서 현재 버전 정보 확인 가능

**가사 검색 관련 🆕 v1.2.0**
1. **곡을 찾을 수 없음**: 다른 검색어 시도 (영어/한국어/일본어 제목)
2. **AI 추론 오류**: Gemini API 키 확인 또는 수동 입력 모드 사용
3. **LRCLIB API 시간 초과**: 자동으로 lyrics.ovh 대안 시도 또는 수동 입력
4. **네트워크 연결**: API 호출을 위한 인터넷 연결 상태 확인

**HTML 저장 관련**
1. **로그인 상태 포함**: v1.1.0에서 저장된 파일의 인증 상태 초기화 완료
2. **독립 파일 생성**: 저장된 HTML 파일은 완전히 독립적으로 작동

**API 관련**
1. **API 오류**: API 키 확인 또는 인터넷 연결 상태 점검
2. **분석 실패**: 가사 텍스트가 너무 길거나 특수문자가 많은 경우
3. **저장 불가**: 브라우저 저장소 용량 확인 또는 쿠키 설정 점검

### 해결 방법
- **배포 문제**: `DEPLOYMENT.md` GitHub Pages 배포 가이드 참조
- **디버깅**: 콘솔 창에서 상세 로그 확인 (F12 → Console)
- **데이터 문제**: '저장된 데이터 지우기'로 초기화 후 재시도
- **성능 문제**: 가사를 작은 단위로 나누어 분석

---

**🎌 즐거운 일본어 학습 되세요! 📚✨** 
